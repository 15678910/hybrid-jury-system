import{f as w,h as v,r as l,j as e,L as k}from"./index-BRv2x-XL.js";import{H as m}from"./Header-DKW4VDud.js";import{g as L}from"./lawApi-BgORG7BN.js";function M(){const{id:n}=w(),h=v(),[r,u]=l.useState(null),[j,p]=l.useState(!0),[b,d]=l.useState(null),[s,i]=l.useState("summary"),[o,x]=l.useState(!1),[f,g]=l.useState(!1);l.useEffect(()=>{try{const t=JSON.parse(localStorage.getItem("bookmarks_precedents")||"[]");x(t.includes(n))}catch{x(!1)}},[n]),l.useEffect(()=>{(async()=>{var c;p(!0),d(null);try{const a=await L(n);(c=a==null?void 0:a.PrecService)!=null&&c.prec?u(a.PrecService.prec):d("판례를 찾을 수 없습니다.")}catch(a){d("판례를 불러오는 중 오류가 발생했습니다."),console.error("Load precedent error:",a)}finally{p(!1)}})()},[n]);const y=()=>{try{const t=JSON.parse(localStorage.getItem("bookmarks_precedents")||"[]"),c=o?t.filter(a=>a!==n):[...t,n];localStorage.setItem("bookmarks_precedents",JSON.stringify(c)),x(!o)}catch(t){console.error("Bookmark error:",t)}},N=async()=>{try{await navigator.clipboard.writeText(window.location.href),g(!0),setTimeout(()=>g(!1),2e3)}catch{alert("URL 복사에 실패했습니다.")}};return j?e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(m,{}),e.jsx("div",{className:"pt-24 pb-16",children:e.jsx("div",{className:"max-w-4xl mx-auto px-4",children:e.jsxs("div",{className:"bg-white rounded-xl p-8 text-center",children:[e.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mb-4"}),e.jsx("p",{className:"text-gray-500",children:"판례를 불러오는 중..."})]})})})]}):b||!r?e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(m,{}),e.jsx("div",{className:"pt-24 pb-16",children:e.jsx("div",{className:"max-w-4xl mx-auto px-4",children:e.jsxs("div",{className:"bg-white rounded-xl p-8 text-center",children:[e.jsx("svg",{className:"w-16 h-16 text-red-500 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:"판례를 찾을 수 없습니다"}),e.jsx("p",{className:"text-gray-500 mb-6",children:b}),e.jsx("button",{onClick:()=>h(-1),className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition",children:"돌아가기"})]})})})]}):e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(m,{}),e.jsx("div",{className:"pt-24 pb-16",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4",children:[e.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[e.jsxs("button",{onClick:()=>h(-1),className:"flex items-center gap-2 text-gray-600 hover:text-blue-600 transition",children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),e.jsx("span",{className:"text-sm font-medium",children:"목록으로"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("button",{onClick:y,className:`flex items-center gap-2 px-4 py-2 rounded-lg transition ${o?"bg-yellow-50 text-yellow-600 hover:bg-yellow-100":"bg-white text-gray-600 hover:bg-gray-50 border border-gray-200"}`,children:[e.jsx("svg",{className:`w-5 h-5 ${o?"fill-current":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"})}),e.jsx("span",{className:"text-sm font-medium",children:o?"북마크됨":"북마크"})]}),e.jsx("button",{onClick:N,className:"flex items-center gap-2 px-4 py-2 bg-white border border-gray-200 text-gray-600 rounded-lg hover:bg-gray-50 transition",children:f?e.jsxs(e.Fragment,{children:[e.jsx("svg",{className:"w-5 h-5 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),e.jsx("span",{className:"text-sm font-medium text-green-600",children:"복사됨"})]}):e.jsxs(e.Fragment,{children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.368 2.684 3 3 0 00-5.368-2.684z"})}),e.jsx("span",{className:"text-sm font-medium",children:"공유"})]})})]})]}),e.jsxs("div",{className:"bg-white rounded-xl p-6 md:p-8 shadow-sm border border-gray-100 mb-6",children:[e.jsx("div",{className:"flex items-start justify-between gap-4 mb-4",children:e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.jsx("span",{className:"px-3 py-1 bg-purple-100 text-purple-700 text-sm font-medium rounded-full",children:r.법원명||"법원 정보 없음"}),e.jsx("span",{className:"text-gray-500 text-sm",children:r.선고일자||"날짜 정보 없음"}),r.판결유형&&e.jsx("span",{className:"px-3 py-1 bg-blue-100 text-blue-700 text-sm font-medium rounded-full",children:r.판결유형})]})}),e.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900 mb-3",children:r.사건번호||"사건번호 정보 없음"}),e.jsx("h2",{className:"text-lg md:text-xl text-gray-700 font-medium mb-4",children:r.사건명||"사건명 정보 없음"}),r.선고&&e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"선고"}),e.jsx("p",{className:"text-gray-900 font-medium",children:r.선고})]})]}),e.jsx("div",{className:"bg-white rounded-t-xl border border-gray-100 border-b-0",children:e.jsxs("div",{className:"flex overflow-x-auto",children:[e.jsx("button",{onClick:()=>i("summary"),className:`px-6 py-4 text-sm font-medium border-b-2 transition whitespace-nowrap ${s==="summary"?"text-blue-600 border-blue-600":"text-gray-500 border-transparent hover:text-gray-700"}`,children:"판시사항"}),e.jsx("button",{onClick:()=>i("reasons"),className:`px-6 py-4 text-sm font-medium border-b-2 transition whitespace-nowrap ${s==="reasons"?"text-blue-600 border-blue-600":"text-gray-500 border-transparent hover:text-gray-700"}`,children:"판결요지"}),e.jsx("button",{onClick:()=>i("reference"),className:`px-6 py-4 text-sm font-medium border-b-2 transition whitespace-nowrap ${s==="reference"?"text-blue-600 border-blue-600":"text-gray-500 border-transparent hover:text-gray-700"}`,children:"참조조문/판례"}),r.전문&&e.jsx("button",{onClick:()=>i("full"),className:`px-6 py-4 text-sm font-medium border-b-2 transition whitespace-nowrap ${s==="full"?"text-blue-600 border-blue-600":"text-gray-500 border-transparent hover:text-gray-700"}`,children:"전문"})]})}),e.jsxs("div",{className:"bg-white rounded-b-xl p-6 md:p-8 shadow-sm border border-gray-100",children:[s==="summary"&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"판시사항"}),r.판시사항?e.jsx("div",{className:"prose max-w-none text-gray-700 leading-relaxed whitespace-pre-wrap break-words",children:r.판시사항}):e.jsx("p",{className:"text-gray-500",children:"판시사항 정보가 없습니다."})]}),s==="reasons"&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"판결요지"}),r.판결요지?e.jsx("div",{className:"prose max-w-none text-gray-700 leading-relaxed whitespace-pre-wrap break-words",children:r.판결요지}):e.jsx("p",{className:"text-gray-500",children:"판결요지 정보가 없습니다."})]}),s==="reference"&&e.jsxs("div",{className:"space-y-6",children:[r.참조조문&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"참조조문"}),e.jsx("div",{className:"prose max-w-none text-gray-700 leading-relaxed whitespace-pre-wrap break-words",children:r.참조조문})]}),r.참조판례&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"참조판례"}),e.jsx("div",{className:"prose max-w-none text-gray-700 leading-relaxed whitespace-pre-wrap break-words",children:r.참조판례})]}),!r.참조조문&&!r.참조판례&&e.jsx("p",{className:"text-gray-500",children:"참조조문 및 참조판례 정보가 없습니다."})]}),s==="full"&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"판결 전문"}),r.전문?e.jsx("div",{className:"prose max-w-none text-gray-700 leading-relaxed whitespace-pre-wrap break-words",children:r.전문}):e.jsx("p",{className:"text-gray-500",children:"판결 전문 정보가 없습니다."})]})]}),e.jsx("div",{className:"mt-6 bg-blue-50 border border-blue-100 rounded-xl p-6",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center flex-shrink-0",children:e.jsx("svg",{className:"w-5 h-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-bold text-gray-900 mb-2",children:"법제처에서 원문 보기"}),e.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"국가법령정보센터에서 판례의 전체 내용과 추가 정보를 확인할 수 있습니다."}),e.jsxs("a",{href:`https://www.law.go.kr/LSW/precInfoP.do?precSeq=${n}`,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition text-sm font-medium",children:["법제처로 이동",e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14 5l7 7m0 0l-7 7m7-7H3"})})]})]})]})}),e.jsx("div",{className:"mt-6 flex justify-center",children:e.jsx(k,{to:"/case-search",className:"px-6 py-3 bg-white border border-gray-200 text-gray-700 rounded-lg hover:bg-gray-50 transition font-medium",children:"다른 판례 검색하기"})})]})}),e.jsx("footer",{className:"bg-gray-900 text-white py-8",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 text-center",children:[e.jsx("p",{className:"text-gray-400 text-sm",children:"시민법정 - 법률정보 검색 서비스"}),e.jsx("p",{className:"text-gray-500 text-xs mt-2",children:"본 서비스는 공익 목적으로 제공되며, 법률 자문을 대체하지 않습니다."})]})})]})}export{M as default};
