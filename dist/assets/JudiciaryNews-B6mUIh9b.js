import{r as o,j as e,L as j,c as w,d as k,q as N,o as v,g as C}from"./index-BRv2x-XL.js";import{H as S}from"./Header-DKW4VDud.js";const u="judiciary_news_cache",K=30*60*1e3,E=()=>{try{const r=localStorage.getItem(u);if(r){const{data:s,timestamp:l}=JSON.parse(r),c=Date.now()-l>=K;return{data:s,isStale:c}}}catch(r){console.log("Cache read error:",r)}return null},L=r=>{try{localStorage.setItem(u,JSON.stringify({data:r,timestamp:Date.now()}))}catch(s){console.log("Cache write error:",s)}};function A(){const r=E(),s=(r==null?void 0:r.data)||null,[l,c]=o.useState(s||[]),[y,f]=o.useState(!s),[b,m]=o.useState(!1);o.useEffect(()=>{const t=setTimeout(()=>{var a;if(window.Kakao&&!window.Kakao.isInitialized())try{window.Kakao.init("83e843186c1251b9b5a8013fd5f29798"),m(!0)}catch(n){console.error("Kakao init error:",n)}else(a=window.Kakao)!=null&&a.isInitialized()&&m(!0)},1e3);return()=>clearTimeout(t)},[]),o.useEffect(()=>{(async()=>{try{const a=w(k,"posts"),n=N(a,v("createdAt","desc")),h=(await C(n)).docs.filter(i=>i.data().category==="ì‚¬ë²•ë‰´ìŠ¤").map(i=>{var g;return{id:i.id,...i.data(),date:((g=i.data().createdAt)==null?void 0:g.toDate().toLocaleDateString("ko-KR",{year:"numeric",month:"2-digit",day:"2-digit"}).replace(/\. /g,"-").replace(".",""))||""}});L(h),c(h)}catch(a){console.error("Error fetching news:",a),s||c([])}finally{f(!1)}})()},[]);const x=async t=>{const a=`https://xn--lg3b0kt4n41f.kr/blog/${t.id}`;try{await navigator.clipboard.writeText(a),alert("ë§í¬ê°€ ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤!")}catch{alert("ë§í¬: "+a)}},p=async t=>{var n;const a=`https://xn--lg3b0kt4n41f.kr/blog/${t.id}`;if(navigator.share)try{await navigator.share({title:t.title,text:`${t.title}

#ì‹œë¯¼ë²•ì • #ì‚¬ë²•ë‰´ìŠ¤`,url:a});return}catch(d){if(d.name==="AbortError")return}if(b&&((n=window.Kakao)!=null&&n.isInitialized()))try{window.Kakao.Share.sendDefault({objectType:"feed",content:{title:t.title,description:t.summary||"",imageUrl:"https://xn--lg3b0kt4n41f.kr/og-image.jpg",link:{mobileWebUrl:a,webUrl:a}},buttons:[{title:"ìì„¸íˆ ë³´ê¸°",link:{mobileWebUrl:a,webUrl:a}}]});return}catch(d){console.error("Kakao share error:",d)}x(t)};return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(S,{}),e.jsx("main",{className:"pt-24 pb-16 px-4",children:e.jsxs("div",{className:"container mx-auto max-w-3xl",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"ì‚¬ë²•ë‰´ìŠ¤"}),e.jsx("p",{className:"text-gray-500 text-sm",children:"ë§¤ì¼ ìë™ ìˆ˜ì§‘ë˜ëŠ” ì‚¬ë²• ê´€ë ¨ ì£¼ìš” ë‰´ìŠ¤"})]}),y?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"inline-block w-8 h-8 border-4 border-blue-600 border-t-transparent rounded-full animate-spin"}),e.jsx("p",{className:"mt-4 text-gray-500",children:"ë‰´ìŠ¤ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘..."})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"bg-white rounded-xl shadow-sm divide-y divide-gray-100",children:l.map(t=>e.jsxs("article",{className:"p-4 hover:bg-gray-50 transition-colors",children:[e.jsxs(j,{to:`/blog/${t.id}`,className:"block",children:[e.jsx("div",{className:"flex items-center gap-2 mb-2",children:e.jsxs("span",{className:"inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:["ğŸ“° ",t.date]})}),e.jsx("p",{className:"text-gray-800 text-sm md:text-base leading-relaxed line-clamp-3",children:t.summary||"ì˜¤ëŠ˜ì˜ ì‚¬ë²• ê´€ë ¨ ì£¼ìš” ë‰´ìŠ¤ì…ë‹ˆë‹¤."})]}),e.jsx("div",{className:"flex items-center justify-end mt-3 pt-2 border-t border-gray-100",children:e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{onClick:()=>x(t),className:"p-1.5 hover:bg-gray-100 rounded-full transition-colors",title:"ë§í¬ ë³µì‚¬",children:e.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})})}),e.jsx("button",{onClick:()=>p(t),className:"p-1.5 hover:bg-yellow-50 rounded-full transition-colors",title:"ì¹´ì¹´ì˜¤í†¡ ê³µìœ ",children:e.jsx("svg",{className:"w-4 h-4 text-yellow-500",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M12 3c5.799 0 10.5 3.664 10.5 8.185 0 4.52-4.701 8.184-10.5 8.184a13.5 13.5 0 0 1-1.727-.11l-4.408 2.883c-.501.265-.678.236-.472-.413l.892-3.678c-2.88-1.46-4.785-3.99-4.785-6.866C1.5 6.665 6.201 3 12 3z"})})})]})})]},t.id))}),l.length===0&&e.jsx("div",{className:"text-center py-12 text-gray-500",children:"ì•„ì§ ìˆ˜ì§‘ëœ ë‰´ìŠ¤ê°€ ì—†ìŠµë‹ˆë‹¤."})]})]})}),e.jsx("footer",{className:"bg-gray-900 text-gray-400 py-6 px-4",children:e.jsx("div",{className:"container mx-auto text-center",children:e.jsx("p",{children:"Â© ì£¼ê¶Œìì‚¬ë²•ê°œí˜ì¶”ì§„ì¤€ë¹„ìœ„ì›íšŒ"})})})]})}export{A as default};
