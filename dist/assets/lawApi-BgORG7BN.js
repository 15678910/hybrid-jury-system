const s=window.location.hostname==="localhost",o=s?"http://localhost:5001/siminbupjung-blog/us-central1/lawApi":"https://us-central1-siminbupjung-blog.cloudfunctions.net/lawApi",i=30*60*1e3;async function n(a){const t=`lawApi_${JSON.stringify(a)}`;try{const e=localStorage.getItem(t);if(e){const{data:r,timestamp:c}=JSON.parse(e);if(Date.now()-c<i)return r}}catch{}try{const e=new URLSearchParams(a),r=await fetch(`${o}?${e.toString()}`);if(!r.ok)throw new Error(`API error: ${r.status}`);const c=await r.json();try{localStorage.setItem(t,JSON.stringify({data:c,timestamp:Date.now()}))}catch{}return c}catch(e){return console.error("Law API error:",e),null}}async function p(a,t={}){return n({target:"law",query:a,type:"JSON",display:t.display||20,page:t.page||1,...t.search&&{search:t.search}})}async function u(a,t={}){return n({target:"prec",query:a,type:"JSON",display:t.display||20,page:t.page||1})}async function g(a){return n({target:"prec",ID:a,type:"JSON"})}async function y(a,t={}){return n({target:"detc",query:a,type:"JSON",display:t.display||20,page:t.page||1})}export{y as a,p as b,g,u as s};
